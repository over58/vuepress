(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{397:function(e,t,n){"use strict";n.r(t);var a=n(42),v=Object(a.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h2",{attrs:{id:"前言"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[e._v("#")]),e._v(" 前言")]),e._v(" "),n("p",[e._v("HTML5中 "),n("strong",[e._v("video")]),e._v(" 标签定义视频，比如电影片段或其他视频流。也就是说video是用来播放视频的，而且是HTML5中的新标签。所以对老浏览器是不支持的，来看看支持。")]),e._v(" "),n("h2",{attrs:{id:"video属性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#video属性"}},[e._v("#")]),e._v(" Video属性")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",[e._v("属性")]),e._v(" "),n("th",[e._v("值")]),e._v(" "),n("th",[e._v("描述")])])]),e._v(" "),n("tbody",[n("tr",[n("td",[e._v("autoplay")]),e._v(" "),n("td",[e._v("autoplay")]),e._v(" "),n("td",[e._v("如果出现该属性，则视频在就绪后马上播放。")])]),e._v(" "),n("tr",[n("td",[e._v("controls")]),e._v(" "),n("td",[e._v("controls")]),e._v(" "),n("td",[e._v("如果出现该属性，则向用户显示控件，比如播放按钮。")])]),e._v(" "),n("tr",[n("td",[e._v("height")]),e._v(" "),n("td",[e._v("pixels")]),e._v(" "),n("td",[e._v("设置视频播放器的高度。")])]),e._v(" "),n("tr",[n("td",[e._v("width")]),e._v(" "),n("td",[e._v("pixels")]),e._v(" "),n("td",[e._v("设置视频播放器的宽度。")])]),e._v(" "),n("tr",[n("td",[e._v("loop")]),e._v(" "),n("td",[e._v("loop")]),e._v(" "),n("td",[e._v("如果出现该属性，则当媒介文件完成播放后再次开始播放。")])]),e._v(" "),n("tr",[n("td",[e._v("muted")]),e._v(" "),n("td",[e._v("muted")]),e._v(" "),n("td",[e._v("规定视频的音频输出应该被静音。")])]),e._v(" "),n("tr",[n("td",[e._v("poster")]),e._v(" "),n("td",[e._v("URL")]),e._v(" "),n("td",[e._v("规定视频下载时显示的图像，或者在用户点击播放按钮前显示的图像。")])]),e._v(" "),n("tr",[n("td",[e._v("preload")]),e._v(" "),n("td",[e._v("pixels")]),e._v(" "),n("td",[e._v('如果出现该属性，则视频在页面加载时进行加载，并预备播放。如果使用 "autoplay"，则忽略该属性。')])]),e._v(" "),n("tr",[n("td",[e._v("src")]),e._v(" "),n("td",[e._v("URL")]),e._v(" "),n("td",[e._v("要播放的视频的 URL。")])])])]),e._v(" "),n("h2",{attrs:{id:"video事件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#video事件"}},[e._v("#")]),e._v(" Video事件")]),e._v(" "),n("table",[n("thead",[n("tr",[n("th",[e._v("属性")]),e._v(" "),n("th",[e._v("值")]),e._v(" "),n("th",[e._v("描述")])])]),e._v(" "),n("tbody",[n("tr",[n("td",[e._v("oncanplay")]),e._v(" "),n("td",[e._v("script")]),e._v(" "),n("td",[e._v("当文件就绪可以开始播放时运行的脚本（缓冲已足够开始时）。")])]),e._v(" "),n("tr",[n("td",[e._v("oncanplaythrough")]),e._v(" "),n("td",[e._v("script")]),e._v(" "),n("td",[e._v("当媒介能够无需因缓冲而停止即可播放至结尾时运行的脚本。")])]),e._v(" "),n("tr",[n("td",[e._v("onemptied")]),e._v(" "),n("td",[e._v("script")]),e._v(" "),n("td",[e._v("当发生故障并且文件突然不可用时运行的脚本（比如连接意外断开时）。")])]),e._v(" "),n("tr",[n("td",[e._v("onended")]),e._v(" "),n("td",[e._v("script")]),e._v(" "),n("td",[e._v("当媒介已到达结尾时运行的脚本（可发送类似“感谢观看”之类的消息）。")])]),e._v(" "),n("tr",[n("td",[e._v("onerror")]),e._v(" "),n("td",[e._v("script")]),e._v(" "),n("td",[e._v("当在文件加载期间发生错误时运行的脚本。")])]),e._v(" "),n("tr",[n("td",[e._v("onloadeddata")]),e._v(" "),n("td",[e._v("script")]),e._v(" "),n("td",[e._v("当媒介数据已加载时运行的脚本。")])]),e._v(" "),n("tr",[n("td",[e._v("onpause")]),e._v(" "),n("td",[e._v("script")]),e._v(" "),n("td",[e._v("当媒介被用户或程序暂停时运行的脚本。")])]),e._v(" "),n("tr",[n("td",[e._v("onplay")]),e._v(" "),n("td",[e._v("script")]),e._v(" "),n("td",[e._v("当媒介已就绪可以开始播放时运行的脚本。")])]),e._v(" "),n("tr",[n("td",[e._v("onplaying")]),e._v(" "),n("td",[e._v("script")]),e._v(" "),n("td",[e._v("当媒介已开始播放时运行的脚本。")])]),e._v(" "),n("tr",[n("td",[e._v("onprogress")]),e._v(" "),n("td",[e._v("script")]),e._v(" "),n("td",[e._v("当浏览器正在获取媒介数据时运行的脚本。")])]),e._v(" "),n("tr",[n("td",[e._v("ontimeupdate")]),e._v(" "),n("td",[e._v("script")]),e._v(" "),n("td",[e._v("当播放位置改变时（比如当用户快进到媒介中一个不同的位置时）运行的脚本。")])]),e._v(" "),n("tr",[n("td",[e._v("onvolumechange")]),e._v(" "),n("td",[e._v("script")]),e._v(" "),n("td",[e._v("每当音量改变时（包括将音量设置为静音）时运行的脚本。")])]),e._v(" "),n("tr",[n("td",[e._v("onwaiting")]),e._v(" "),n("td",[e._v("script")]),e._v(" "),n("td",[e._v("当媒介已停止播放但打算继续播放时（比如当媒介暂停已缓冲更多数据）")])])])]),e._v(" "),n("h3",{attrs:{id:"运行脚本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#运行脚本"}},[e._v("#")]),e._v(" 运行脚本")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<video width="100%" height="100%" id="playVideo">\n  <source src="视频地址" type="video/mp4"></source>\n</video>\n\x3c!--自定义进度条和音量控制--\x3e\n<div class="playControll">\n    <div class="playPause playIcon"></div>\n    <div class="timebar">\n        <span class="currentTime">0:00:00</span>\n        <div class="progress">\n            <div class="progress-bar progress-bar-danger progress-bar-striped" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>\n        </div>\n        <span class="duration">0:00:00</span>\n    </div>\n    <div class="otherControl">\n        <span class="volume glyphicon glyphicon-volume-down"></span>\n        <span class="fullScreen glyphicon glyphicon-fullscreen"></span>\n        <div class="volumeBar">\n            <div class="volumewrap">\n                <div class="progress">\n                    <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="width: 8px;height: 40%;"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')])])]),n("p",[e._v("js")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('var myVid=document.getElementById("playVideo");\n//播放的速度\nmyVid.playbackRate = 1\nmyVid.onloadstart = function(){\n  console.log(`onloadstart  客户端开始请求数据  `);\n}\nmyVid.ondurationchange=function(){\n  console.log(`durationchange 资源长度改变  `);\n}\nmyVid.onratechange=function(){\n  console.log(`onratechange  //播放速率改变  `);\n}\nmyVid.onseeking=function(){\n  console.log(` //seeking  寻找中 点击一个为（缓存）下载的区域`);\n}\nmyVid.onseeked=function(){\n  console.log(` //seeked 寻找完毕 `);\n}\nmyVid.onplay=function(){\n  console.log(`开始播放时触发 `);\n}\nmyVid.onwaiting=function(){\n  console.log(`播放由于下一帧数据未获取到导致播放停止，但是播放器没有主动预期其停止，仍然在努力的获取数据，简单的说就是在等待下一帧视频数据，暂时还无法播放。 `);\n}\nmyVid.onplaying=function(){\n  console.log(`真正处于播放的状态，这个时候我们才是真正的在观看视频。 `);\n}\nmyVid.oncanplay=function(){\n  console.log(`视频播放器已经可以开始播放视频了，但是只是预期可以正常播放，不保证之后的播放不会出现缓冲等待。 `);\n}\nmyVid.onpause=function(){\n  console.log(`暂停播放时触发 `);\n}\nmyVid.onended=function(){\n  alert(` //播放结束 loop 的情况下不会触发  `);\n}\nmyVid.onvolumechange=function(){\n  console.log(`音量改变  `);\n}\nmyVid.onloadedmetadata=function(){\n  console.log(`获取视频meta信息完毕，这个时候播放器已经获取到了视频时长和视频资源的文件大小。 `);\n}\nmyVid.onloadeddata=function(){\n  console.log(`"视频播放器第一次完成了当前播放位置的视频渲染。"`);\n}\n\nmyVid.onabort=function(){\n  console.log(`客户端主动终止下载（不是因为错误引起）， `);\n}\n\nmyVid.onerror=function(){\n  console.log(`请求数据时遇到错误`);\n  //1.用户终止 2.网络错误 3.解码错误 4.URL无效\n  alert(myVid.error.code);\n}\n\n//客户端请求数据\nmyVid.onprogress=function(){\n  console.log(`客户端正在请求数据 触发多次，是分段请求的`);\n  console.log(myVid.buffered);\n   //0.此元素未初始化  1.正常但没有使用网络  2.正在下载数据  3.没有找到资源\n  console.log(`networkState ${myVid.networkState}`);\n  //  //当前播放的位置，赋值可改变位置 myVid.currentTime = 11 从11秒位置开始播放\n  console.log(myVid.currentTime);\n  // //返回当前资源的URL\n  console.log(myVid.currentSrc);\n\n  console.log(myVid.videoWidth);\n  //播放结束 返回true 或 false\n  console.log(myVid.ended);\n  //音量大小 为0-1 之间的值\n  console.log(myVid.volume);\n\n\n  //当前资源长度\n  console.log(myVid.duration);\n  console.log(myVid.startDate)\n  // myVid.currentTime = 11\n}\n')])])]),n("h3",{attrs:{id:"视频控制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#视频控制"}},[e._v("#")]),e._v(" 视频控制")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('var myVid=document.getElementById("playVideo");\nmyVid.play(); //播放视频\nmyVid.pause();  //暂停视频\nmyVid.width=560; //设置视频宽度\nmyVid.height=560;  //设置视频高度\nmyVid.volume = 0.8; // 音量控制\n全屏和退出全屏\n// 全屏\nif (playVideo[0].requestFullscreen) {\n    playVideo[0].requestFullscreen();\n} else if (playVideo[0].mozRequestFullScreen) {\n    playVideo[0].mozRequestFullScreen();\n} else if (playVideo[0].webkitRequestFullscreen) {\n    playVideo[0].webkitRequestFullscreen();\n} else if (playVideo[0].msRequestFullscreen) {\n    playVideo[0].msRequestFullscreen();\n}\n// 退出全屏\nif (document.exitFullscreen) {\n    document.exitFullscreen();\n} else if (document.mozExitFullScreen) {\n    document.mozExitFullScreen();\n} else if (document.webkitExitFullscreen) {\n    document.webkitExitFullscreen();\n}\n')])])]),n("h2",{attrs:{id:"media方法和属性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#media方法和属性"}},[e._v("#")]),e._v(" Media方法和属性")]),e._v(" "),n("blockquote",[n("p",[e._v("HTMLVideoElement和HTMLAudioElement 均继承自HTMLMediaElement")])]),e._v(" "),n("ul",[n("li",[e._v("Media.error; //null:正常")]),e._v(" "),n("li",[e._v("Media.error.code; //1.用户终止 2.网络错误 3.解码错误 4.URL无效")])]),e._v(" "),n("h4",{attrs:{id:"网络状态"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#网络状态"}},[e._v("#")]),e._v(" 网络状态")]),e._v(" "),n("ul",[n("li",[n("p",[e._v("Media.currentSrc; //返回当前资源的URL")])]),e._v(" "),n("li",[n("p",[e._v("Media.src = value; //返回或设置当前资源的URL")])]),e._v(" "),n("li",[n("p",[e._v("Media.canPlayType(type); //是否能播放某种格式的资源")])]),e._v(" "),n("li",[n("p",[e._v("Media.networkState; //0.此元素未初始化 1.正常但没有使用网络 2.正在下载数据 3.没有找到资源")])]),e._v(" "),n("li",[n("p",[e._v("Media.load(); //重新加载src指定的资源")])]),e._v(" "),n("li",[n("p",[e._v("Media.buffered; //返回已缓冲区域，TimeRanges")])]),e._v(" "),n("li",[n("p",[e._v("Media.preload; //none:不预载 metadata:预载资源信息 auto:\n3.2准备状态")])]),e._v(" "),n("li",[n("p",[e._v("Media.readyState;")])])]),e._v(" "),n("ol",[n("li",[e._v("HAVE_NOTHING")]),e._v(" "),n("li",[e._v("HAVE_METADATA")]),e._v(" "),n("li",[e._v("HAVE_CURRENT_DATA")]),e._v(" "),n("li",[e._v("HAVE_FUTURE_DATA")]),e._v(" "),n("li",[e._v("HAVE_ENOUGH_DATA")])]),e._v(" "),n("ul",[n("li",[e._v("Media.seeking; //是否正在seeking")])]),e._v(" "),n("h4",{attrs:{id:"回放状态"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#回放状态"}},[e._v("#")]),e._v(" 回放状态")]),e._v(" "),n("ul",[n("li",[e._v("Media.currentTime = value; //当前播放的位置，赋值可改变位置")]),e._v(" "),n("li",[e._v("Media.startTime; //一般为0，如果为流媒体或者不从0开始的资源，则不为0")]),e._v(" "),n("li",[e._v("Media.duration; //当前资源长度 流返回无限")]),e._v(" "),n("li",[e._v("Media.paused; //是否暂停")]),e._v(" "),n("li",[e._v("Media.defaultPlaybackRate = value;//默认的回放速度，可以设置")]),e._v(" "),n("li",[e._v("Media.playbackRate = value;//当前播放速度，设置后马上改变")]),e._v(" "),n("li",[e._v("Media.played; //返回已经播放的区域，TimeRanges，关于此对象见下文")]),e._v(" "),n("li",[e._v("Media.seekable; //返回可以seek的区域 TimeRanges")]),e._v(" "),n("li",[e._v("Media.ended; //是否结束")]),e._v(" "),n("li",[e._v("Media.autoPlay; //是否自动播放")]),e._v(" "),n("li",[e._v("Media.loop; //是否循环播放")]),e._v(" "),n("li",[e._v("Media.play(); //播放")]),e._v(" "),n("li",[e._v("Media.pause(); //暂停")])]),e._v(" "),n("h4",{attrs:{id:"视频控制-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#视频控制-2"}},[e._v("#")]),e._v(" 视频控制")]),e._v(" "),n("ul",[n("li",[e._v("Media.controls;//是否有默认控制条")]),e._v(" "),n("li",[e._v("Media.volume = value; //音量")]),e._v(" "),n("li",[e._v("Media.muted = value; //静音 TimeRanges(区域)对象")]),e._v(" "),n("li",[e._v("TimeRanges.length; //区域段数")]),e._v(" "),n("li",[e._v("TimeRanges.start(index) //第index段区域的开始位置")]),e._v(" "),n("li",[e._v("TimeRanges.end(index) //第index段区域的结束位置")])]),e._v(" "),n("h2",{attrs:{id:"常见应用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常见应用"}},[e._v("#")]),e._v(" 常见应用")]),e._v(" "),n("h3",{attrs:{id:"视频非全屏播放"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#视频非全屏播放"}},[e._v("#")]),e._v(" 视频非全屏播放")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<video\n  x5-video-player-type="h5"\n  playsinline\n  webkit-playsinline>\n</video>\n')])])]),n("h3",{attrs:{id:"隐藏视频右下角的三个点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#隐藏视频右下角的三个点"}},[e._v("#")]),e._v(" 隐藏视频右下角的三个点")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v(' <video\n  //关闭下载， 音轨\n  controlslist="nodownload noremoteplayback"\n  //禁止画中画\n  disablePictureInPicture\n/>\n')])])]),n("blockquote",[n("p",[e._v("摘自: https://cloud.tencent.com/developer/article/1588145 和\nhttps://cloud.tencent.com/developer/article/1462727?from=10680")])])])}),[],!1,null,null,null);t.default=v.exports}}]);